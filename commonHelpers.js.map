{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// main.js\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\ndocument.getElementById('search-form').addEventListener('submit', handleFormSubmit);\ndocument.getElementById('loader').style.display = 'none';\n\nfunction handleFormSubmit(event) {\n    event.preventDefault();\n    let searchValue = document.getElementById('search-form-input').value.trim();\n    let loader = document.getElementById('loader');\n\n    if (searchValue === '') {\n        iziToast.warning({\n            title: 'Caution',\n            message: 'The search field cannot be empty!',\n        });\n        return;\n    }\n\n       loader.style.display = 'block';\n\n    performSearch(searchValue);\n}\n\nfunction performSearch(searchValue) {\n    const apiKey = '42176348-9192a588252a9fae2debe28a6';\n    let apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${searchValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    fetch(apiUrl)\n        .then(response => response.json())\n        .then(data => {\n            document.getElementById('loader').style.display = 'none';\n\n\n            if (data.hits.length > 0) {\n                displayImages(data.hits);\n            } else {\n                iziToast.info({\n                    title: 'Info',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topCenter',\n                });\n            }\n        })\n        .catch(error => {\ndocument.getElementById('loader').style.display = 'none';\n\n\n            iziToast.error({\n                title: 'Error',\n                message: 'An error occurred while fetching images. Please try again later.',\n                position: 'topCenter',\n            });\n            console.error('Fetch error:', error);\n        });\n}\n\nfunction displayImages(images) {\n    const galleryContainer = document.querySelector('ul.gallery');\n    galleryContainer.innerHTML = images.map(image => `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"image-card-image\">\n                <div class=\"image-card-details\">\n                    <span class=\"image-card-likes\"><span class=\"bold\">Likes:</span> ${image.likes}</span>\n                    <span class=\"image-card-views\"><span class=\"bold\">Views: </span>${image.views}</span>\n                    <span class=\"image-card-comments\"><span class=\"bold\">Comments: </span>${image.comments}</span>\n                    <span class=\"image-card-downloads\"><span class=\"bold\">Downloads: </span>${image.downloads}</span>\n                </div>\n            </a>\n        </li>\n    `).join('');\n\n    initLightbox();\n}\n\nfunction initLightbox() {\n    const options = {\n        captions: true,\n        captionType: 'attr',\n        captionsData: 'alt',\n        captionDelay: 250,\n        overlay: true,\n        overlayOpacity: 0.8,\n    };\n\n    const gallery = new SimpleLightbox('.gallery a', options);\n}\n"],"names":["handleFormSubmit","event","searchValue","loader","iziToast","performSearch","apiUrl","response","data","displayImages","error","images","galleryContainer","image","initLightbox","options","SimpleLightbox"],"mappings":"wvBAOA,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAUA,CAAgB,EAClF,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAElD,SAASA,EAAiBC,EAAO,CAC7BA,EAAM,eAAc,EACpB,IAAIC,EAAc,SAAS,eAAe,mBAAmB,EAAE,MAAM,OACjEC,EAAS,SAAS,eAAe,QAAQ,EAE7C,GAAID,IAAgB,GAAI,CACpBE,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,mCACrB,CAAS,EACD,MACH,CAEED,EAAO,MAAM,QAAU,QAE1BE,EAAcH,CAAW,CAC7B,CAEA,SAASG,EAAcH,EAAa,CAEhC,IAAII,EAAS,qEAA4CJ,CAAW,2DAEpE,MAAMI,CAAM,EACP,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACV,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAG9CA,EAAK,KAAK,OAAS,EACnBC,EAAcD,EAAK,IAAI,EAEvBJ,EAAS,KAAK,CACV,MAAO,OACP,QAAS,2EACT,SAAU,WAC9B,CAAiB,CAEjB,CAAS,EACA,MAAMM,GAAS,CACxB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAGtCN,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mEACT,SAAU,WAC1B,CAAa,EACD,QAAQ,MAAM,eAAgBM,CAAK,CAC/C,CAAS,CACT,CAEA,SAASD,EAAcE,EAAQ,CAC3B,MAAMC,EAAmB,SAAS,cAAc,YAAY,EAC5DA,EAAiB,UAAYD,EAAO,IAAIE,GAAS;AAAA;AAAA,uBAE9BA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,sFAEoBA,EAAM,KAAK;AAAA,sFACXA,EAAM,KAAK;AAAA,4FACLA,EAAM,QAAQ;AAAA,8FACZA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAIxG,EAAE,KAAK,EAAE,EAEVC,GACJ,CAEA,SAASA,GAAe,CACpB,MAAMC,EAAU,CACZ,SAAU,GACV,YAAa,OACb,aAAc,MACd,aAAc,IACd,QAAS,GACT,eAAgB,EACxB,EAEoB,IAAIC,EAAe,aAAcD,CAAO,CAC5D"}